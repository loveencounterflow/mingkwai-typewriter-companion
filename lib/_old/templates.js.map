{
  "version": 3,
  "file": "templates.js",
  "sourceRoot": "../..",
  "sources": [
    "src/_old/templates.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "\n# cannot 'use strict'\n\n\n############################################################################################################\nnjs_path                  = require 'path'\nnjs_fs                    = require 'fs'\n#...........................................................................................................\nCND                       = require 'cnd'\nrpr                       = CND.rpr.bind CND\nbadge                     = '明快打字机/TEMPLATES'\nlog                       = CND.get_logger 'plain',     badge\ninfo                      = CND.get_logger 'info',      badge\nwhisper                   = CND.get_logger 'whisper',   badge\nalert                     = CND.get_logger 'alert',     badge\ndebug                     = CND.get_logger 'debug',     badge\nwarn                      = CND.get_logger 'warn',      badge\nhelp                      = CND.get_logger 'help',      badge\nurge                      = CND.get_logger 'urge',      badge\n#...........................................................................................................\n# MKTS                      = require './main'\nTEACUP                    = require 'coffeenode-teacup'\n# CHR                       = require 'coffeenode-chr'\n#...........................................................................................................\n_STYLUS                   = require 'stylus'\n# as_css                    = STYLUS.render.bind STYLUS\n# style_route               = njs_path.join __dirname, '../src/mingkwai-typesetter.styl'\n# css                       = as_css njs_fs.readFileSync style_route, encoding: 'utf-8'\n#...........................................................................................................\n\n#===========================================================================================================\n# TEACUP NAMESPACE ACQUISITION\n#-----------------------------------------------------------------------------------------------------------\nObject.assign @, TEACUP\n\n#-----------------------------------------------------------------------------------------------------------\n@FULLHEIGHTFULLWIDTH  = @new_tag ( P... ) -> @TAG 'fullheightfullwidth', P...\n@OUTERGRID            = @new_tag ( P... ) -> @TAG 'outergrid',           P...\n@TOPBAR               = @new_tag ( P... ) -> @TAG 'topbar',              P...\n@CONTENT              = @new_tag ( P... ) -> @TAG 'content',             P...\n@MIDBAR               = @new_tag ( P... ) -> @TAG 'midbar',              P...\n@SHADE                = @new_tag ( P... ) -> @TAG 'shade',               P...\n@SCROLLER             = @new_tag ( P... ) -> @TAG 'scroller',            P...\n@BOTTOMBAR            = @new_tag ( P... ) -> @TAG 'bottombar',           P...\n@LBBAR                = @new_tag ( P... ) -> @TAG 'lbbar',               P...\n@RBBAR                = @new_tag ( P... ) -> @TAG 'rbbar',               P...\n#...........................................................................................................\n@JS                   = @new_tag ( route ) -> @SCRIPT type: 'text/javascript',  src: route\n@CSS                  = @new_tag ( route ) -> @LINK   rel:  'stylesheet',      href: route\n@STYLUS               = ( source ) -> @STYLE {}, _STYLUS.render source\n\n\n#===========================================================================================================\n#\n#-----------------------------------------------------------------------------------------------------------\n@get_row_html = ( key_value_pairs ) ->\n  return @render =>\n    @TR '.candidate', =>\n      for [ key, value, ] in key_value_pairs\n        @TD \".#{key}\", value.toString()\n\n\n# #===========================================================================================================\n# #\n# #-----------------------------------------------------------------------------------------------------------\n# @main = ->\n#   #.........................................................................................................\n#   return @render =>\n#     @DOCTYPE 5\n#     @HTML =>\n#       @HEAD =>\n#         @META charset: 'utf-8'\n#         @TITLE '明快打字机'\n#         # @LINK rel: 'shortcut icon', href: './favicon.icon'\n#         ### -------------------------------------------------------------------------------------------- ###\n#         ### The Tomkel-Harders device to make sure jQuery and other libraries are correctly              ###\n#         ### loaded and made available even in Electron; see                                              ###\n#         ###   https://github.com/electron/electron/issues/254#issuecomment-183483641                     ###\n#         ###   https://stackoverflow.com/a/37480521/7568091                                               ###\n#         ### -------------------------- THIS LINE MUST COME BEFORE ANY IMPORTS -------------------------- ###\n#         @SCRIPT \"if (typeof module === 'object') {window.module = module; module = undefined;}\"\n#         ### -------------------------------------------------------------------------------------------- ###\n#         @JS     '../public/jquery-3.3.1.js'\n#         @CSS    './styles.css'\n#         ### -------------------------------------------------------------------------------------------- ###\n#         ### CodeMirror                                                                                   ###\n#         @CSS    '../public/codemirror-5.39.0/lib/codemirror.css'\n#         @CSS    '../public/codemirror-5.39.0/addon/fold/foldgutter.css'\n#         @CSS    '../public/codemirror-5.39.0/addon/dialog/dialog.css'\n#         @CSS    '../public/codemirror-5.39.0/theme/monokai.css'\n#         @JS     '../public/codemirror-5.39.0/lib/codemirror.js'\n#         @JS     '../public/codemirror-5.39.0/mode/javascript/javascript.js'\n#         @JS     '../public/codemirror-5.39.0/mode/coffeescript/coffeescript.js'\n#         @JS     '../public/codemirror-5.39.0/addon/search/searchcursor.js'\n#         @JS     '../public/codemirror-5.39.0/addon/search/search.js'\n#         @JS     '../public/codemirror-5.39.0/addon/dialog/dialog.js'\n#         @JS     '../public/codemirror-5.39.0/addon/edit/matchbrackets.js'\n#         @JS     '../public/codemirror-5.39.0/addon/edit/closebrackets.js'\n#         @JS     '../public/codemirror-5.39.0/addon/comment/comment.js'\n#         @JS     '../public/codemirror-5.39.0/addon/wrap/hardwrap.js'\n#         @JS     '../public/codemirror-5.39.0/addon/fold/foldcode.js'\n#         @JS     '../public/codemirror-5.39.0/addon/fold/brace-fold.js'\n#         @JS     '../public/codemirror-5.39.0/keymap/sublime.js'\n#         ### -------------------------- THIS LINE MUST COME AFTER ANY IMPORTS --------------------------- ###\n#         @SCRIPT \"if (window.module) module = window.module;\"\n#         ### -------------------------------------------------------------------------------------------- ###\n#       #=====================================================================================================\n#       @COFFEESCRIPT =>\n#         ( $ document ).ready ->\n#       #=====================================================================================================\n#       @BODY =>\n#         #...................................................................................................\n#         # @DIV '#qdt', '0'\n#         @DIV '#outergrid.grid', =>\n#           #.................................................................................................\n#           @DIV '#toggle-area.area', =>\n#             @DIV '#capslock.kblayers.toggle', => 'L'\n#             @DIV '#shift.kblayers.toggle',    => 'S'\n#             @DIV '#ctrl.kblayers.toggle',     => 'C'\n#             @DIV '#alt.kblayers.toggle',      => 'A'\n#             @DIV '#altgr.kblayers.toggle',    => '?'\n#           #.................................................................................................\n#           @DIV '#innergrid.grid.area', =>\n#             @DIV '#upper-placeholder.area', => 'upper-placeholder'\n#           #   @DIV '#output-area.area', =>\n#           #     @TEXTAREA '#codemirror.inbox'\n#             #...............................................................................................\n#             @DIV '#candidates-area.area', =>\n#               @DIV '.inbox', =>\n#                 'candidates'\n#               # @DIV '#selector-background'\n#               # @DIV '.inbox', =>\n#               #   # 'CANDIDATES'\n#               #   @TABLE '#candidates', =>\n#               #     @TBODY()\n#               # @DIV '#selector-foreground'\n#           #.................................................................................................\n#           @DIV '#input-area.area', =>\n#             @DIV '#text-input.inbox', contenteditable: 'true'\n#           #.................................................................................................\n#           @DIV '#status-area.area', => @DIV '.inbox', => 'STATUS'\n#         #...................................................................................................\n#         @JS     './window.js'\n\n#===========================================================================================================\n#\n#-----------------------------------------------------------------------------------------------------------\n@main_2 = ->\n  #.........................................................................................................\n  return @render =>\n    @DOCTYPE 5\n    @META charset: 'utf-8'\n    # @META 'http-equiv': \"Content-Security-Policy\", content: \"default-src 'self'\"\n    # @META 'http-equiv': \"Content-Security-Policy\", content: \"script-src 'unsafe-inline'\"\n    @TITLE '明快打字机'\n    # @LINK rel: 'shortcut icon', href: './favicon.icon'\n    ### ------------------------------------------------------------------------------------------------ ###\n    ### The Tomkel-Harders device to make sure jQuery and other libraries are correctly                  ###\n    ### loaded and made available even in Electron; see                                                  ###\n    ###   https://github.com/electron/electron/issues/254#issuecomment-183483641                         ###\n    ###   https://stackoverflow.com/a/37480521/7568091                                                   ###\n    ### -------------------------- THIS LINE MUST COME BEFORE ANY IMPORTS ------------------------------ ###\n    @SCRIPT \"if (typeof module === 'object') {window.module = module; module = undefined;}\"\n    ### ------------------------------------------------------------------------------------------------ ###\n    @JS     '../public/jquery-3.3.1.js'\n    @CSS    '../public/reset.css'\n    @CSS    './styles-01.css'\n    ### ------------------------------------------------------------------------------------------------ ###\n    ### CodeMirror                                                                                       ###\n    @CSS    '../public/codemirror-5.39.0/lib/codemirror.css'\n    @CSS    '../public/codemirror-5.39.0/addon/fold/foldgutter.css'\n    @CSS    '../public/codemirror-5.39.0/addon/dialog/dialog.css'\n    @CSS    '../public/codemirror-5.39.0/theme/monokai.css'\n    @JS     '../public/codemirror-5.39.0/lib/codemirror.js'\n    @JS     '../public/codemirror-5.39.0/mode/javascript/javascript.js'\n    @JS     '../public/codemirror-5.39.0/mode/coffeescript/coffeescript.js'\n    @JS     '../public/codemirror-5.39.0/addon/search/searchcursor.js'\n    @JS     '../public/codemirror-5.39.0/addon/search/search.js'\n    @JS     '../public/codemirror-5.39.0/addon/dialog/dialog.js'\n    @JS     '../public/codemirror-5.39.0/addon/edit/matchbrackets.js'\n    @JS     '../public/codemirror-5.39.0/addon/edit/closebrackets.js'\n    @JS     '../public/codemirror-5.39.0/addon/comment/comment.js'\n    @JS     '../public/codemirror-5.39.0/addon/wrap/hardwrap.js'\n    @JS     '../public/codemirror-5.39.0/addon/fold/foldcode.js'\n    @JS     '../public/codemirror-5.39.0/addon/fold/brace-fold.js'\n    @JS     '../public/codemirror-5.39.0/keymap/sublime.js'\n    ### -------------------------- THIS LINE MUST COME AFTER ANY IMPORTS ------------------------------- ###\n    @CSS    '../public/styles-99.css'\n    @SCRIPT \"if (window.module) module = window.module;\"\n    ### ------------------------------------------------------------------------------------------------ ###\n    #=======================================================================================================\n    @FULLHEIGHTFULLWIDTH =>\n      @OUTERGRID =>\n        @TOPBAR =>\n          ### TAINT multiple wrapping needed? ###\n          @CONTENT =>\n            @TEXTAREA '#codemirror'\n        @MIDBAR =>\n          @SHADE '.background'\n          @SCROLLER =>\n            @TABLE '#candidates', =>\n              @TBODY =>\n                @TR =>\n                  @TD '.value', \"MingKwai\"\n                  @TD '.glyph', \"明快打字机\"\n                  @TD '.value', \"TypeWriter\"\n          @SHADE '.foreground'\n        @LBBAR => 'L'\n        @BOTTOMBAR =>\n          @DIV '#text-input.inbox', contenteditable: 'true'\n        @RBBAR => 'R'\n    #=======================================================================================================\n    @JS     './window.js'\n\n\n#===========================================================================================================\n#\n#-----------------------------------------------------------------------------------------------------------\n@font_test = ( app, md, settings, handler ) ->\n  n           = 10\n  triplets    = [\n    [  0x0061,  0x007a,    'u-latn',        ]\n    [  0x2e80,  0x2eff,    'u-cjk-rad2',    ]\n    [  0x2f00,  0x2fdf,    'u-cjk-rad1',    ]\n    [  0x3000,  0x303f,    'u-cjk-sym',     ]\n    [  0x31c0,  0x31ef,    'u-cjk-strk',    ]\n    [  0x3200,  0x32ff,    'u-cjk-enclett', ]\n    [  0x3300,  0x33ff,    'u-cjk-cmp',     ]\n    [  0x3400,  0x4dbf,    'u-cjk-xa',      ]\n    [  0x4e00,  0x9fff,    'u-cjk',         ]\n    [  0xe000,  0xf8ff,    'jzr',           ]\n    [  0xf900,  0xfaff,    'u-cjk-cmpi1',   ]\n    [  0xfe30,  0xfe4f,    'u-cjk-cmpf',    ]\n    [ 0x20000, 0x2b81f,    'u-cjk-xb',      ]\n    [ 0x2a700, 0x2b73f,    'u-cjk-xc',      ]\n    [ 0x2b740, 0x2b81f,    'u-cjk-xd',      ]\n    [ 0x2f800, 0x2fa1f,    'u-cjk-cmpi2',   ]\n    ]\n  #.........................................................................................................\n  return render =>\n    DOCTYPE 5\n    HTML =>\n      HEAD =>\n        META charset: 'utf-8'\n        # META name: 'viewport', content: 'width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;'\n        TITLE 'mingkwai'\n        # TITLE '明快打字机'\n        LINK rel: 'shortcut icon', href: './favicon.icon'\n        CSS './html5doctor-css-reset.css'\n        # CSS './fonts/webfontkit-20150311-073132/stylesheet.css'\n        JS  './jquery-2.1.3.js'\n        CSS './jquery-ui-1.11.3.custom/jquery-ui.css'\n        JS  './jquery-ui-1.11.3.custom/jquery-ui.js'\n        JS  './jquery.event.drag-2.2/jquery.event.drag-2.2.js'\n        JS  './outerHTML-2.1.0.js'\n        JS  './blaidddrwg.js'\n        # JS  './convertPointFromPageToNode.js'\n        JS  './jquery-transit.js'\n        JS  './browser.js'\n        JS  './process-xcss-rules.js'\n        CSS './materialize/css/materialize.css'\n        JS  './materialize/js/materialize.min.js'\n        CSS './mkts-main.rework.css'\n      #=====================================================================================================\n      BODY style: \"transform:scale(2);transform-origin:top left;\", =>\n        H1 => \"\"\"Ligatures\"\"\"\n        P =>\n          TEXT \"\"\"Standard Ligatures* (feature liga): fluffy, shy, official; \"\"\"\n          EM \"\"\"gg, nagy, gjuha, Qyteti.\"\"\"\n        #...................................................................................................\n        H1 => \"\"\"Unicode Ranges\"\"\"\n        DIV =>\n          for cids in [ [ 0x2a6d6 - 9 .. 0x2a6d6 ], [ 0x2a700 .. 0x2a70a ], ]\n            for cid in cids\n              TEXT CHR.as_uchr cid\n        for [ cid, _, rsg, ] in triplets\n          P =>\n            # SPAN style: \"font-family:'cjk','lastresort';\", =>\n            SPAN =>\n              for i in [ 0 ... n ]\n                SPAN style: \"display:inline-block;\", => CHR.as_uchr cid + i\n            SPAN =>\n              TEXT \"(#{rsg})\"\n        #...................................................................................................\n        H1 => \"\"\"Other Stuff\"\"\"\n        P style: \"font-family:'spincycle-eot','lastresort';\", =>\n          SPAN => \"一丁\"\n          SPAN => \"abcdef (spincycle-eot)\"\n        P style: \"font-family:'spincycle-embedded-opentype','lastresort';\", =>\n          SPAN => \"一丁\"\n          SPAN => \"abcdef (spincycle-embedded-opentype)\"\n        P style: \"font-family:'spincycle-woff2','lastresort';\", =>\n          SPAN => \"一丁\"\n          SPAN => \"abcdef (spincycle-woff2)\"\n        P style: \"font-family:'spincycle-woff','lastresort';\", =>\n          SPAN => \"一丁\"\n          SPAN => \"abcdef (spincycle-woff)\"\n        P style: \"font-family:'spincycle-truetype','lastresort';\", =>\n          SPAN => \"一丁\"\n          SPAN => \"abcdef (spincycle-truetype)\"\n        P style: \"font-family:'spincycle-svg','lastresort';\", =>\n          SPAN => \"一丁\"\n          SPAN => \"abcdef (spincycle-svg)\"\n        P style: \"font-family:'lastresort';\", =>\n          SPAN => \"一丁\"\n          SPAN => \"abcdef (lastresort)\"\n\n\n\n\n#===========================================================================================================\n#\n#-----------------------------------------------------------------------------------------------------------\n@test_page = ->\n  #.........................................................................................................\n  return render =>\n    DOCTYPE 5\n    HTML =>\n      HEAD =>\n        META charset: 'utf-8'\n        JS  './jquery-2.1.3.js'\n        JS  './outerHTML-2.1.0.js'\n        # JS  './blaidddrwg.js'\n        JS  './browser.js'\n        STYLE '', \"\"\"\n            html, body {\n              margin:                 0;\n              padding:                0;\n            }\n            .gauge {\n              position:               absolute;\n              outline:                1px solid red;\n            }\n          \"\"\"\n        #===================================================================================================\n        COFFEESCRIPT ->\n          ( $ 'document' ).ready ->\n            log                   = console.log.bind console\n            # #...............................................................................................\n            # gauges                = $ '.gauge'\n            # for gauge_idx in [ 0 ... gauges.length ]\n            #   gauge               = gauges.eq gauge_idx\n            #   height_npx          = parseInt ( gauge.css 'height' ), 10\n            #   height_rpx_a        = gauge.height()\n            #   height_rpx_b        = gauge[ 0 ].getBoundingClientRect()[ 'height' ]\n            #   log gauge_idx + 1, height_npx, height_rpx_a, height_rpx_b\n            #...............................................................................................\n            gauge         = $ \"<div id='meter-gauge' style='position:absolute;'></div>\"\n            ( $ 'body' ).append gauge\n            for d_npx in [ 1 .. 1000 ]\n              gauge.css 'height', \"#{d_npx}px\"\n              d_rpx = gauge[ 0 ].getBoundingClientRect()[ 'height' ]\n              log d_npx, d_rpx\n\n      #=====================================================================================================\n      BODY =>\n\n#-----------------------------------------------------------------------------------------------------------\n@splash_window = ->\n  #.........................................................................................................\n  return render =>\n    DOCTYPE 5\n    HTML =>\n      STYLE '', \"\"\"\n        body, html {\n          width:                    100%;\n          height:                   100%;\n          overflow:                 hidden;\n        }\n        body {\n          width:                    100%;\n          height:                   100%;\n          background-color:         rgba( 255, 255, 255, 0.0 );\n          background-image:         url(./mingkwai-logo-circled.png);\n          background-size:          contain;\n          background-repeat:        no-repeat;\n          background-position:      50%;\n        }\n        \"\"\"\n          # position:                 fixed;\n          # top:                      10mm;\n          # left:                     10mm;\n      BODY =>\n\n#-----------------------------------------------------------------------------------------------------------\n@NORMAL_layout = ->\n  #.........................................................................................................\n  return render =>\n    DOCTYPE 5\n    HTML =>\n      HEAD =>\n        META charset: 'utf-8'\n        # META name: 'viewport', content: 'width=device-width; initial-scale=1.0; maximum-scale=1.0; user-scalable=0;'\n        TITLE 'mingkwai (NORMAL_layout)'\n        # TITLE '明快打字机'\n        LINK rel: 'shortcut icon', href: './favicon.icon'\n        CSS './html5doctor-css-reset.css'\n        # # CSS './fonts/webfontkit-20150311-073132/stylesheet.css'\n        JS  './jquery-2.1.3.js'\n        CSS './jquery-ui-1.11.3.custom/jquery-ui.css'\n        JS  './jquery-ui-1.11.3.custom/jquery-ui.js'\n        JS  './jquery.event.drag-2.2/jquery.event.drag-2.2.js'\n        JS  './outerHTML-2.1.0.js'\n        JS  '../node_modules/jquery-replace-text/jquery-replace-text.js'\n        JS  './blaidddrwg.js'\n        # JS  './convertPointFromPageToNode.js'\n        JS  './jquery-transit.js'\n        JS  './browser.js'\n        JS  './process-xcss-rules.js'\n        CSS './materialize/css/materialize.css'\n        JS  './materialize/js/materialize.min.js'\n        CSS './mkts-main.rework.css'\n        STYLE \"\"\"\n          body {\n            font-size: 4mm;\n          }\n          \"\"\"\n      #=====================================================================================================\n      COFFEESCRIPT =>\n        ( $ document ).ready ->\n          # #.................................................................................................\n          # start_node  = ( $ 'page column p' ).contents().eq 0\n          # start_dom   = start_node.get 0\n          # # endNode = $('span.second').contents().get(0);\n          # range = document.createRange()\n          # idx   = 0\n          # text  = start_node.text()\n          # while idx < text.length\n          #   range.setStart start_dom, idx\n          #   idx += if ( text.codePointAt idx ) > 0xffff then +2 else +1\n          #   range.setEnd start_dom, idx\n          #   { bottom, height, left, right, top, width } = range.getBoundingClientRect()\n          #   t = range.toString()\n          #   console.log ( if t is '\\u00ad' then '~' else t ), left, top\n          # # range.setEnd   start_node, 0\n          # # console.log range.toString()\n          # # console.log range.getBoundingClientRect()\n          # window.myrange = range\n          #.................................................................................................\n          # getBoundingClientRect\n          window.zoomer = $ 'zoomer'\n          # zoomer.draggable()\n          scroll_x  = null\n          scroll_y  = null\n          page_x    = null\n          page_y    = null\n          dragging  = no\n          shifted   = no\n          ( $ document ).on 'keyup keydown', ( event ) -> shifted = event.shiftKey; return true\n          ### DRAGGING / HAND TOOL SUPPORT ###\n          # ( $ document ).on 'dragstart', ( event, data ) ->\n          #   console.log 'dragstart', event\n          #   scroll_x  = ( $ window ).scrollLeft()\n          #   scroll_y  = ( $ window ).scrollTop()\n          #   page_x    = event.pageX\n          #   page_y    = event.pageY\n          #   dragging  = yes\n          #   ( $ 'body' ).addClass 'grabbing'\n          # # ( $ document ).on 'drag', ( event, data ) ->\n          # #   console.log 'drag', [ data.deltaX, data.deltaY, ]\n          # #   ( $ window ).scrollLeft scroll_x - data.deltaX\n          # #   ( $ window ).scrollTop  scroll_y - data.deltaY\n          # ( $ document ).on 'mousemove', ( event ) ->\n          #   return unless dragging\n          #   factor = 1 # if shifted then 2 else 1\n          #   ( $ window ).scrollLeft ( $ window ).scrollLeft() + ( page_x - event.pageX ) * factor\n          #   ( $ window ).scrollTop  ( $ window ).scrollTop()  + ( page_y - event.pageY ) * factor\n          # # ( $ document ).on 'draginit', ( event ) ->\n          # #   console.log 'draginit', event\n          # ( $ document ).on 'dragend', ( event ) ->\n          #   # console.log 'dragend', event\n          #   dragging  = no\n          #   ( $ 'body' ).removeClass 'grabbing'\n\n          # ( $ document ).on 'drag',        -> console.log 'drag'; return true\n          # ( $ document ).on 'touchstart',  -> console.log 'touchstart'; return true\n          # ( $ document ).on 'touchmove',   -> console.log 'touchmove'; return true\n          # ( $ document ).on 'touchend',    -> console.log 'touchend'; return true\n          # ( $ document ).on 'touchcancel', -> console.log 'touchcancel'; return true\n          # ( $ document ).on 'scrollstart', -> console.log 'scrollstart'; return true\n          # ( $ document ).on 'scrollstop',  -> console.log 'scrollstop'; return true\n          # ( $ document ).on 'swipe',       -> console.log 'swipe'; return true\n          # ( $ document ).on 'swipeleft',   -> console.log 'swipeleft'; return true\n          # ( $ document ).on 'swiperight',  -> console.log 'swiperight'; return true\n          # ( $ document ).on 'tap',         -> console.log 'tap'; return true\n          # ( $ document ).on 'taphold',     -> console.log 'taphold'; return true\n          # ( $ document ).on 'mousedown',   -> console.log 'mousedown'; return true\n          # ( $ document ).on 'mouseup',     -> console.log 'mouseup'; return true\n          # ( $ document ).on 'mousemove',   -> console.log 'mousemove'; return true\n        # ( $ document ).on 'mousemove', ( event ) ->\n        #   app                 = window[ 'app' ]\n        #   [ page_x, page_y, ] = [ event.pageX, event.pageY, ]\n        #   zmr                 = window.convertPointFromPageToNode ( app[ 'zoomer' ].get 0 ), page_x, page_y\n        #   console.log '©YC6EG', [ page_x, page_y, ], zmr\n        #   window[ 'app' ][ 'mouse-position' ] = [ page_x, page_y, ]\n        #   ( $ '#tg' ).css 'left', \"#{zmr[ 'x' ]}px\"\n        #   ( $ '#tg' ).css 'top',  \"#{zmr[ 'y' ]}px\"\n        # ( $ document ).on 'mousemove', ( event ) ->\n        #   # console.log '©YC6EG', [ event.pageX, event.pageY, ]\n        #   window[ 'app' ][ 'mouse-position' ] = [ event.pageX, event.pageY, ]\n      #=====================================================================================================\n      BODY =>\n        # A style: \"display:block;position:absolute;top:0;z-index:1000;\", href: './font-test.html', => \"font-test\"\n        #...............................................................................................\n        DIV '#mkts-top'\n        ARTBOARD '.galley', =>\n          ZOOMER =>\n            GALLEY =>\n              OVERLAY \"Galley\"\n              CHASE =>\n                TOPMARGIN =>\n                HBOX =>\n                  LEFTMARGIN =>\n                  COLUMN =>\n                  VGAP =>\n                  COLUMN =>\n                  VGAP =>\n                  COLUMN =>\n                  RIGHTMARGIN =>\n                BOTTOMMARGIN =>\n        ARTBOARD '.pages', =>\n          ZOOMER =>\n            for page_nr in [ 1 .. 5 ]\n              PAGE =>\n                OVERLAY page_nr\n                RULER '.horizontal'\n                RULER '.vertical'\n                # CHASEWRAP =>\n                CHASE =>\n                  TOPMARGIN =>\n                  HBOX =>\n                    LEFTMARGIN =>\n                    COLUMN =>\n                    VGAP =>\n                    COLUMN =>\n                    VGAP =>\n                    COLUMN =>\n                    RIGHTMARGIN =>\n                  BOTTOMMARGIN =>\n\n        HRIBBON '.draggable', style: 'height:20mm;', =>\n          I '.small.mkts-tool-hand',            action: 'tool-mode-hand'\n          I '.small.mdi-editor-insert-chart',   action: 'editor-insert-chart'\n          I '.small.mdi-action-3d-rotation',    action: 'action-3d-rotation'\n          I '.small.mdi-action-assignment',     action: 'action-assignment'\n          I '.small.mdi-image-blur-on',         action: 'image-blur-on'\n          I '.small.mdi-action-print',          action: 'action-print'\n          I '.small.mdi-action-cached',         action: 'action-cached'\n          I '.small.mdi-content-content-cut',   action: 'content-content-cut'\n          I '.small.mdi-content-content-copy',  action: 'content-content-copy'\n        DIV '#mkts-bottom'\n\n\n\n### # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #  ###\n### # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #  ###\n### # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #  ###\n### # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #  ###\n### # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #  ###\n### # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #  ###\n### # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #  ###\n### # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #  ###\n\n#-----------------------------------------------------------------------------------------------------------\n### just for testing of CSS @font-face, unicode-range ###\n@FONTTEST_layout = ->\n  #.........................................................................................................\n  return render =>\n    DOCTYPE 5\n    HTML =>\n      HEAD =>\n        META charset: 'utf-8'\n        TITLE 'mingkwai'\n        LINK rel: 'shortcut icon', href: './favicon.icon'\n        CSS './html5doctor-css-reset.css'\n        # # CSS './fonts/webfontkit-20150311-073132/stylesheet.css'\n        JS  './jquery-2.1.3.js'\n        CSS './jquery-ui-1.11.3.custom/jquery-ui.css'\n        JS  './jquery-ui-1.11.3.custom/jquery-ui.js'\n        JS  './jquery.event.drag-2.2/jquery.event.drag-2.2.js'\n        JS  './outerHTML-2.1.0.js'\n        JS  './blaidddrwg.js'\n        # JS  './convertPointFromPageToNode.js'\n        JS  './jquery-transit.js'\n        JS  './browser.js'\n        # JS  './process-xcss-rules.js'\n        CSS './materialize/css/materialize.css'\n        JS  './materialize/js/materialize.min.js'\n        CSS './mkts-main.rework.css'\n        STYLE \"\"\"\n          @font-face {\n            font-family:    'ampersand';\n            src:            local('Schwabacher');\n            unicode-range:  U+0026;\n          }\n\n          @font-face {\n            font-family:    'cjk';\n            src:            local('Sun-ExtA');\n            unicode-range:  U+4e00-9fff;\n          }\n\n          @font-face {\n            font-family:    'cjk';\n            src:            local('sunflower-u-cjk-xb');\n            unicode-range:  U+20000-2b81f;\n          }\n\n          @font-face {\n            font-family:    'cjk';\n            src:            local('jizura3b');\n            unicode-range:  U+e000-f8ff;\n          }\n\n          @font-face {\n            font-family:    'ancientsymbols';\n            src:            local('Geneva');\n            unicode-range:  U+10190-1019B;\n          }\n\n          body, html {\n            font-family:    'ampersand', 'cjk', 'ancientsymbols', 'Source Code Pro';\n          }\n\n\n          \"\"\"\n        # html {\n        #   text-rendering:  geometricPrecision;\n        #   }\n      # -webkit-font-feature-settings:  \"liga\" 1, \"dlig\" 1;\n      # // text-rendering:                 optimizeLegibility\n      # // font-variant-ligatures:         common-ligatures\n      # // font-kerning:                   normal\n      #=====================================================================================================\n      BODY =>\n        RAW \"\"\"\n          <div>&amp;</div>\n          <div>𐆓</div>\n          <div>一丁丂七丄丅丆万丈三 u-cjk</div>\n          <div>𠀀𠀁𠀂𠀃𠀄𠀅𠀆𠀇𠀈𠀉 u-cjk-xb</div>\n          <div> jzr</div>\n          \"\"\"\n\n### # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #  ###\n### # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #  ###\n### # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #  ###\n### # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #  ###\n### # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #  ###\n### # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #  ###\n### # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #  ###\n### # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # #  ###\n\n#-----------------------------------------------------------------------------------------------------------\n### for testing of possible rendering bug related to CSS `display: flex; height: ...;` ###\n@FLEXHEIGHTTEST_layout = ->\n  #.........................................................................................................\n  return render =>\n    DOCTYPE 5\n    HTML =>\n      HEAD =>\n        META charset: 'utf-8'\n        TITLE 'mingkwai'\n        JS  './jquery-2.1.3.js'\n        JS  './blaidddrwg.js'\n        JS  './browser.js'\n        STYLUS \"\"\"\n\n          html\n            font-size:        3mm\n\n          chase\n          column\n            outline:                1px dotted red\n            outline-offset:         -1px\n\n          chase\n            position:               relative\n            left:                   4.5mm\n            top:                    8mm\n            // width:                  201mm\n            // /* ### TAINT ### */\n            height:                 278.85mm\n            display:                flex\n            flex-direction:         column\n            float:                  left\n\n          column\n            display:                block\n            flex-shrink:            1\n            flex-grow:              1\n\n                    \"\"\"\n      #=====================================================================================================\n      BODY =>\n        CHASE =>\n          COLUMN =>\n            for idx in [ 0 ... 90 ]\n              DIV \"#{idx}\"\n\n      # DIV '.chase', =>\n      #   DIV '.column', =>\n      #     for idx in [ 0 ... 90 ]\n      #       DIV \"#{idx}\"\n\n\n#-----------------------------------------------------------------------------------------------------------\n### rendering with float instead of flex ###\n@FLOAT_layout = ->\n  #.........................................................................................................\n  return render =>\n    DOCTYPE 5\n    HTML =>\n      HEAD =>\n        META charset: 'utf-8'\n        TITLE 'mingkwai'\n        JS  './jquery-2.1.3.js'\n        JS  './blaidddrwg.js'\n        JS  './browser.js'\n        STYLUS \"\"\"\n\n\n          /* ------------------------------------------------------------------------------------------------------ */\n          /* Experimentally detected that `$paper-height = 297mm - 0.13mm` is not enough but\n            `297mm - 0.15mm` is enough to avoid intervening blank pages in the PDF. */\n          $paper-width                = 210mm\n          $paper-height               = 297mm - 0.15mm\n          // $paper-width                = 210mm\n          // $paper-height               = 297mm\n          /* ...................................................................................................... */\n          // 'gutters' in typographic terms (non-printable areas) become 'paddings' in CSS:\n          $gutter-left                = 4.5mm\n          $gutter-right               = $gutter-left\n          $gutter-top                 = 8mm\n          $gutter-bottom              = 10mm\n          /* ...................................................................................................... */\n          // 'margins' in typographic terms (areas outside the main content) become 'paddings' in CSS:\n          $margin-left                = 15mm\n          $margin-right               = $margin-left\n          $margin-top                 = 11mm\n          $margin-bottom              = 5mm\n          /* ...................................................................................................... */\n          $gap-vertical-width         = 5mm\n          /* ...................................................................................................... */\n          // the chase represents the printable area; inside, flanked by the margins, is the main content area:\n          $chase-width                = $paper-width  - $gutter-left  - $gutter-right\n          $chase-height               = $paper-height - $gutter-top   - $gutter-bottom\n          /* ...................................................................................................... */\n          $galley-width               = $paper-width\n          /* ...................................................................................................... */\n          $epsilon                    = 1mm\n\n\n          /* ------------------------------------------------------------------------------------------------------ */\n          paper\n          page\n           width:                   $paper-width\n           height:                  $paper-height\n           display:                 block\n\n          html\n            font-size:              4mm\n\n          overlay\n            display:                block\n            position:               absolute\n\n          margin\n            display:                block\n\n          margin.left\n          margin.right\n            float:                  left\n            height:                 100%\n\n          margin.left\n            min-width:              $margin-left\n            max-width:              $margin-left\n\n          margin.right\n            min-width:              $margin-right\n            max-width:              $margin-right\n\n          margin.top\n          margin.bottom\n            width:                  100%\n\n          margin.top\n            min-height:             $margin-top\n            max-height:             $margin-top\n\n          margin.bottom\n            min-height:             $margin-bottom\n            max-height:             $margin-bottom\n\n          chase\n          column\n          box\n          margin\n          gap\n          page\n            outline:                1px dotted red\n            outline-offset:         -1px\n\n          chase\n            position:               relative\n            left:                   $gutter-left\n            top:                    $gutter-top\n            width:                  $chase-width\n            height:                 $chase-height\n            display:                block\n\n          box\n            display:                block\n            float:                  left\n            width:                  $chase-width - $margin-left - $margin-right - $epsilon\n            height:                 10mm\n            background-color: #ddd\n\n          gap\n            display:                block\n            width:                  $gap-vertical-width\n            float:                  left\n            height:                 100%\n\n          column\n            display:                block\n            height:                 100%\n            float:                  left\n\n          .columns-3 column\n            width:                  ( ( $chase-width - 2 * $gap-vertical-width ) / 3 )\n                    \"\"\"\n      #=====================================================================================================\n      BODY =>\n        ARTBOARD '.pages', =>\n          ZOOMER =>\n            # for page_nr in [ 1 .. 5 ]\n            PAGE =>\n              # OVERLAY page_nr\n              CHASE =>\n                MARGIN '.top', =>\n                MARGIN '.left', =>\n                BOX '.horizontal.columns-3', =>\n                  COLUMN =>\n                    # if page_nr is 1\n                      # for idx in [ 0 ... 70 ]\n                      #   DIV '', \"#{idx}\"\n                  # GAP '.vertical', =>\n                  # COLUMN =>\n                  # GAP '.vertical', =>\n                  # COLUMN =>\n                MARGIN '.right', =>\n                MARGIN '.bottom', =>\n\n#-----------------------------------------------------------------------------------------------------------\n### rendering with float instead of flex ###\n@TABLE_layout = ->\n  #.........................................................................................................\n  return render =>\n    DOCTYPE 5\n    HTML =>\n      HEAD =>\n        META charset: 'utf-8'\n        TITLE 'mingkwai'\n        JS  './jquery-2.1.3.js'\n        JS  './blaidddrwg.js'\n        JS  './browser.js'\n        STYLUS \"\"\"\n\n\n          /* ------------------------------------------------------------------------------------------------------ */\n          /* Experimentally detected that `$paper-height = 297mm - 0.13mm` is not enough but\n            `297mm - 0.15mm` is enough to avoid intervening blank pages in the PDF. */\n          $paper-width                = 210mm\n          $paper-height               = 297mm - 0.15mm\n          // $paper-width                = 210mm\n          // $paper-height               = 297mm\n          /* ...................................................................................................... */\n          // 'gutters' in typographic terms (non-printable areas) become 'paddings' in CSS:\n          $gutter-left                = 4.5mm\n          $gutter-right               = $gutter-left\n          $gutter-top                 = 8mm\n          $gutter-bottom              = 10mm\n          /* ...................................................................................................... */\n          // 'margins' in typographic terms (areas outside the main content) become 'paddings' in CSS:\n          $margin-left                = 15mm\n          $margin-right               = $margin-left\n          $margin-top                 = 11mm\n          $margin-bottom              = 5mm\n          /* ...................................................................................................... */\n          $gap-vertical-width         = 5mm\n          /* ...................................................................................................... */\n          // the chase represents the printable area; inside, flanked by the margins, is the main content area:\n          $chase-width                = $paper-width  - $gutter-left  - $gutter-right\n          $chase-height               = $paper-height - $gutter-top   - $gutter-bottom\n          /* ...................................................................................................... */\n          $galley-width               = $paper-width\n\n\n          /* ------------------------------------------------------------------------------------------------------ */\n          paper\n          page\n           width:                   $paper-width\n           height:                  $paper-height\n           display:                 block\n\n          html\n            font-size:              4mm\n\n          .chase\n          column\n          box\n          margin\n          gap\n          page\n            outline:                1px dotted red\n            outline-offset:         -1px\n\n          .chase\n            border-collapse:        collapse\n            margin:                 0\n            padding:                0\n            position:               relative\n            left:                   $gutter-left\n            top:                    $gutter-top\n            width:                  $chase-width\n            height:                 $chase-height\n\n          .margin\n            margin:                 0\n            padding:                0\n\n          .margin.margin-left\n            height:                 $chase-height\n            width:                  $margin-left\n\n          .margin.margin-right\n            height:                 $chase-height\n            width:                  $margin-right\n\n          .margin.margin-top\n          .margin.margin-bottom\n            width:                  $galley-width - $margin-left - $margin-right\n\n          .margin.margin-top\n            height:                 $margin-top\n\n          .margin.margin-bottom\n            height:                 $margin-bottom\n\n          .gap\n            margin:                 0\n            padding:                0\n            width:                  $gap-vertical-width\n            min-width:              $gap-vertical-width\n            max-width:              $gap-vertical-width\n\n          .columnbox\n          .column\n            border-collapse:        collapse\n            margin:                 0\n            padding:                0\n            height:                 100%\n\n          .columnbox\n            width:                  100%\n\n          .column.columns-3\n            width:                  ( ( $chase-width - 2 * $gap-vertical-width ) / 3 )\n            min-width:              ( ( $chase-width - 2 * $gap-vertical-width ) / 3 )\n            max-width:              ( ( $chase-width - 2 * $gap-vertical-width ) / 3 )\n\n          td\n            outline: 1px solid green\n          \"\"\"\n      #=====================================================================================================\n      CHASE = ( p... ) =>\n        TABLE '.chase', =>\n          TR =>\n            TD '.margin.margin-left', rowspan: 3\n            TD '.margin.margin-top'\n            TD '.margin.margin-right', rowspan: 3\n          TR =>\n            TD '.main', p...\n          TR =>\n            TD '.margin.margin-bottom'\n      #-----------------------------------------------------------------------------------------------------\n      COLUMNBOX = ( column_count ) =>\n        TABLE '.columnbox', =>\n          TR =>\n            for column_nr in [ 1 .. column_count ]\n              unless column_nr is 1\n                TD '.gap.vertical'\n              TD \".column.columns-#{column_count}\", =>\n                if column_nr is 1\n                  TEXT \"\"\"xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx\n                    xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx\n                    xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx\n                    xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx\n                    xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx\n                    xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx\n                    xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx\n                    xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx\n                    xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx\n                    xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx\n                    xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx\n                    xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx\n                    \"\"\"\n      #=====================================================================================================\n      BODY =>\n        ARTBOARD '.pages', =>\n          ZOOMER =>\n            PAGE =>\n              CHASE {}, =>\n                COLUMNBOX 3, =>\n                #   MARGIN '.left', =>\n                #   COLUMN =>\n                #     for idx in [ 0 ... 70 ]\n                #       DIV '', \"#{idx}\"\n                #   GAP '.vertical', =>\n                #   COLUMN =>\n                #   GAP '.vertical', =>\n                #   COLUMN =>\n                #   MARGIN '.right', =>\n                # MARGIN '.bottom', =>\n\n\n#-----------------------------------------------------------------------------------------------------------\n### rendering with float instead of flex ###\n@INLINEBLOCK_layout = ->\n  #.........................................................................................................\n  return render =>\n    DOCTYPE 5\n    HTML =>\n      HEAD =>\n        META charset: 'utf-8'\n        TITLE 'mingkwai'\n        JS  './jquery-2.1.3.js'\n        JS  './blaidddrwg.js'\n        JS  './browser.js'\n        STYLUS \"\"\"\n\n\n          /* ------------------------------------------------------------------------------------------------------ */\n          /* Experimentally detected that `$paper-height = 297mm - 0.13mm` is not enough but\n            `297mm - 0.15mm` is enough to avoid intervening blank pages in the PDF. */\n          $paper-width                = 210mm\n          $paper-height               = 297mm - 0.15mm\n          // $paper-width                = 210mm\n          // $paper-height               = 297mm\n          /* ...................................................................................................... */\n          // 'gutters' in typographic terms (non-printable areas) become 'paddings' in CSS:\n          $gutter-left                = 4.5mm\n          $gutter-right               = $gutter-left\n          $gutter-top                 = 8mm\n          $gutter-bottom              = 10mm\n          /* ...................................................................................................... */\n          // 'margins' in typographic terms (areas outside the main content) become 'paddings' in CSS:\n          $margin-left                = 15mm\n          $margin-right               = $margin-left\n          $margin-top                 = 11mm\n          $margin-bottom              = 5mm\n          /* ...................................................................................................... */\n          $gap-vertical-width         = 5mm\n          /* ...................................................................................................... */\n          // the chase represents the printable area; inside, flanked by the margins, is the main content area:\n          $chase-width                = $paper-width  - $gutter-left  - $gutter-right\n          $chase-height               = $paper-height - $gutter-top   - $gutter-bottom\n          /* ...................................................................................................... */\n          $galley-width               = $paper-width\n          /* ...................................................................................................... */\n          $epsilon                    = 1mm\n\n\n          /* ------------------------------------------------------------------------------------------------------ */\n          paper\n          page\n           width:                   $paper-width\n           height:                  $paper-height\n           display:                 block\n\n          html\n            font-size:              4mm\n\n          overlay\n            display:                block\n            position:               absolute\n\n          margin\n            background-color:       #e994ae\n\n          margin.left\n          margin.right\n            display:                inline-block\n            height:                 100%\n\n          margin.left\n            min-width:              $margin-left\n            max-width:              $margin-left\n\n          margin.right\n            min-width:              $margin-right\n            max-width:              $margin-right\n\n          margin.top\n          margin.bottom\n            display:                block\n            width:                  $chase-width\n\n          margin.top\n            min-height:             $margin-top\n            max-height:             $margin-top\n\n          margin.bottom\n            min-height:             $margin-bottom\n            max-height:             $margin-bottom\n\n          chase\n          column\n          box\n          margin\n          gap\n          page\n            outline:                1px dotted red\n            outline-offset:         -1px\n\n          chase\n            position:               relative\n            left:                   $gutter-left\n            top:                    $gutter-top\n            width:                  $chase-width\n            height:                 $chase-height\n            display:                block\n\n          row\n            display:                inline-block\n            width:                  $chase-width\n            white-space:            nowrap\n            // !!!!!\n            height:                 10mm\n\n          gap\n            display:                inline-block\n            width:                  $gap-vertical-width\n            height:                 100%\n            background-color: #ddd\n\n          column\n            display:                inline-block\n            white-space:            normal\n            height:                 100%\n\n          .columns-3 column\n            width:                  ( ( $chase-width - 2 * $gap-vertical-width - $margin-left - $margin-right ) / 3 )\n                    \"\"\"\n      #=====================================================================================================\n      BODY =>\n        ARTBOARD '.pages', =>\n          ZOOMER =>\n            # for page_nr in [ 1 .. 5 ]\n            PAGE =>\n              # OVERLAY page_nr\n              CHASE =>\n                MARGIN '.top', =>\n                ROW '.horizontal.columns-3', =>\n                  MARGIN '.left', =>\n                  COLUMN =>\n                    # if page_nr is 1\n                      # for idx in [ 0 ... 70 ]\n                      #   DIV '', \"#{idx}\"\n                  GAP '.vertical', =>\n                  COLUMN =>\n                  GAP '.vertical', =>\n                  COLUMN =>\n                  MARGIN '.right', =>\n                MARGIN '.bottom', =>\n\n# #-----------------------------------------------------------------------------------------------------------\n# @layout = @FONTTEST_layout\n# @layout = @FLEXHEIGHTTEST_layout\n# @layout = @TABLE_layout\n# @layout = @FLOAT_layout\n# @layout = @INLINEBLOCK_layout\n# @layout = @NORMAL_layout\n\n"
  ]
}